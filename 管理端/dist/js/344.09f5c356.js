"use strict";(self["webpackChunktraining"]=self["webpackChunktraining"]||[]).push([[344],{8344:function(e,t,o){o.r(t),o.d(t,{default:function(){return T}});var n=o(3396),a=o(7139),l=o(9242),s=o(4134),d=o(5659),u=o(2335),c=o(6835),i=o(4335);const r=e=>((0,n.dD)("data-v-3108f01d"),e=e(),(0,n.Cn)(),e),m={class:"all"},h={class:"dialog"},p=(0,n.Uk)("必修"),f=(0,n.Uk)("选修"),g=r((()=>(0,n._)("br",null,null,-1))),w={class:"courseText"},v=r((()=>(0,n._)("br",null,null,-1))),b={class:"courseText"},_=r((()=>(0,n._)("br",null,null,-1))),C=(0,n.Uk)("必选"),k=["onClick"],U=["onClick"],V=["onClick"],W={class:"dialog"},x=(0,n.Uk)("必修"),y=(0,n.Uk)("选修"),B=r((()=>(0,n._)("br",null,null,-1))),Z=["onClick"];function L(e,t,o,r,L,H){const O=(0,n.up)("van-nav-bar"),q=(0,n.up)("van-field"),I=(0,n.up)("van-radio"),z=(0,n.up)("van-radio-group"),A=(0,n.up)("van-cell-group"),D=(0,n.up)("van-form"),j=(0,n.up)("van-dialog"),T=(0,n.up)("van-tag"),F=(0,n.up)("van-card"),K=(0,n.up)("van-list");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(O,{title:"课程列表","left-text":r.navbarstr,"left-arrow":"",onClickLeft:r.back},null,8,["left-text","onClickLeft"]),(0,n._)("div",m,[(0,n._)("img",{src:s,class:"enterButton",onClick:t[0]||(t[0]=e=>r.showAdd=!0)}),(0,n.Wm)(j,{show:r.showAdd,"onUpdate:show":t[5]||(t[5]=e=>r.showAdd=e),"show-cancel-button":"",closeOnClickOverlay:!0,"confirm-button-text":"添加",showCancelButton:!1,showConfirmButton:!1,onClosed:r.refresh,width:"25vw"},{default:(0,n.w5)((()=>[(0,n._)("div",h,[(0,n.Wm)(D,null,{default:(0,n.w5)((()=>[(0,n.Wm)(A,{inset:""},{default:(0,n.w5)((()=>[(0,n.Wm)(q,{modelValue:r.add.name,"onUpdate:modelValue":t[1]||(t[1]=e=>r.add.name=e),label:"课程名称：",placeholder:"请输入名称"},null,8,["modelValue"]),(0,n.Wm)(q,{modelValue:r.add.describe,"onUpdate:modelValue":t[2]||(t[2]=e=>r.add.describe=e),label:"课程简介：",placeholder:"请输入简介",type:"textarea",maxlength:"30","show-word-limit":""},null,8,["modelValue"]),(0,n.Wm)(z,{modelValue:r.add.mustchose,"onUpdate:modelValue":t[3]||(t[3]=e=>r.add.mustchose=e),direction:"horizontal",class:"center"},{default:(0,n.w5)((()=>[(0,n.Wm)(I,{name:"1"},{default:(0,n.w5)((()=>[p])),_:1}),(0,n.Wm)(I,{name:"0"},{default:(0,n.w5)((()=>[f])),_:1})])),_:1},8,["modelValue"])])),_:1}),g,(0,n._)("img",{src:s,class:"dialog-enterbutton",onClick:t[4]||(t[4]=e=>r.addCourse())})])),_:1})])])),_:1},8,["show","onClosed"]),(0,n._)("img",{src:d,class:"enterButton",onClick:t[6]||(t[6]=e=>r.tostuList())}),(0,n.Wm)(K,{loading:r.loading,"onUpdate:loading":t[7]||(t[7]=e=>r.loading=e),finished:r.finished,"finished-text":"没有更多了","error-text":"加载失败",onLoad:r.onLoad},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.courses.list,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e,class:"block"},[(0,n.Wm)(F,{class:"vancard"},{title:(0,n.w5)((()=>[(0,n._)("span",w,(0,a.zw)(e.name),1),v,(0,n._)("span",b,"课程简介："+(0,a.zw)(e.description),1),_])),tags:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(T,{style:{"margin-top":"8px"},plain:"",type:"danger"},{default:(0,n.w5)((()=>[C])),_:2},1536),[[l.F8,e.mustchose]])])),footer:(0,n.w5)((()=>[(0,n._)("img",{src:u,class:"enterButton",onClick:t=>r.toClass(e.no,e.name)},null,8,k),(0,n._)("img",{src:c,class:"enterButton",onClick:t=>e.showUpdate=!0},null,8,U),(0,n._)("img",{src:i,class:"enterButton",onClick:t=>r.delconfirm(e.no)},null,8,V),(0,n.Wm)(j,{show:e.showUpdate,"onUpdate:show":t=>e.showUpdate=t,"show-cancel-button":"",closeOnClickOverlay:!0,"confirm-button-text":"更新",showCancelButton:!1,showConfirmButton:!1,onClosed:r.refresh,width:"25vw"},{default:(0,n.w5)((()=>[(0,n._)("div",W,[(0,n.Wm)(D,null,{default:(0,n.w5)((()=>[(0,n.Wm)(A,{inset:""},{default:(0,n.w5)((()=>[(0,n.Wm)(q,{modelValue:e.name,"onUpdate:modelValue":t=>e.name=t,label:"课程名称：",placeholder:"请输入名称"},null,8,["modelValue","onUpdate:modelValue"]),(0,n.Wm)(q,{modelValue:e.description,"onUpdate:modelValue":t=>e.description=t,label:"课程简介：",placeholder:"请输入简介",type:"textarea",maxlength:"30","show-word-limit":""},null,8,["modelValue","onUpdate:modelValue"]),(0,n.Wm)(z,{modelValue:e.mustchose,"onUpdate:modelValue":t=>e.mustchose=t,direction:"horizontal",class:"center"},{default:(0,n.w5)((()=>[(0,n.Wm)(I,{name:"1"},{default:(0,n.w5)((()=>[x])),_:1}),(0,n.Wm)(I,{name:"0"},{default:(0,n.w5)((()=>[y])),_:1})])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1024),B,(0,n._)("img",{src:c,class:"dialog-enterbutton",onClick:t=>r.update(e)},null,8,Z)])),_:2},1024)])])),_:2},1032,["show","onUpdate:show","onClosed"])])),_:2},1024)])))),128))])),_:1},8,["loading","finished","onLoad"])])])}o(6542);var H=o(1321),O=(o(6743),o(4691)),q=o(4870),I=o(678);const z=o(6265);var A={name:"Home",setup(){const e=(0,q.iH)(!1),t=(0,q.iH)(!1),o=(0,q.iH)(!1),a=(0,q.iH)("返回"),l=(0,I.tv)(),s=(0,I.yj)(),d=s.query.batchId,u=s.query.batchname,c=(0,q.qj)({list:[]}),i=(0,q.iH)({batch:d,name:"",mustchose:""});function r(){z({method:"get",url:"admin/getcourse",params:{batch:d}}).then((function(o){for(let e=0;e<o.data.length;e++)c.list.push(o.data[e]),c.list[e].showUpdate=!1;e.value=!1,t.value=!0})).catch((function(e){console.log("catch"+e),(0,O.Z)("加载失败，请检查网络")}))}function m(e,t){l.push({path:"/classes",query:{courseId:e,coursename:t,batchname:u}})}function h(e){z({method:"get",url:"admin/deletecourse",params:{no:e}}).then((function(e){1==e.data.statuscode?((0,O.Z)("删除成功"),l.go(0)):(0,O.Z)("删除失败")})).catch((function(e){console.log("catch"+e),(0,O.Z)("删除失败，请检查网络")}))}function p(){""!=i.value.name&&""!=i.value.mustchose?z({method:"get",url:"admin/createcourse",params:i.value}).then((e=>{1==e.data.statuscode?((0,O.Z)("添加成功"),l.go(0)):(0,O.Z)("添加失败")})).catch((function(e){console.log("catch"+e),(0,O.Z)("添加失败，请检查网络")})):(0,O.Z)("请填写信息！")}function f(e){H.Z.confirm({closeOnClickOverlay:!0,message:"确认删除？"}).then((()=>{h(e)})).catch((()=>{}))}function g(){l.push({path:"/stuList",query:{batchId:d}})}function w(e){z({method:"get",url:"admin/updatecourse",params:{courseid:e.no,name:e.name,mustchose:e.mustchose,describe:e.description}}).then((function(e){1==e.data.statuscode?((0,O.Z)("更新成功"),l.go(0)):(0,O.Z)("更新失败")})).catch((function(e){console.log("catch"+e),(0,O.Z)("更新失败，请检查网络")}))}function v(){l.go(0)}a.value=a.value+"------"+u;const b=()=>history.back();return{loading:e,finished:t,back:b,onMounted:n.bv,batchId:d,onLoad:r,toClass:m,tostuList:g,delCourse:h,add:i,addCourse:p,courses:c,showAdd:o,navbarstr:a,delconfirm:f,update:w,refresh:v}}},D=o(89);const j=(0,D.Z)(A,[["render",L],["__scopeId","data-v-3108f01d"]]);var T=j},4134:function(e,t,o){e.exports=o.p+"img/addButton.a1bf7926.png"},6835:function(e,t,o){e.exports=o.p+"img/commit.be342ee0.png"},4335:function(e,t,o){e.exports=o.p+"img/deleteButton.948a50c3.png"},2335:function(e,t,o){e.exports=o.p+"img/enterButton.6b3eec9e.png"},5659:function(e,t,o){e.exports=o.p+"img/stuButton.323b7308.png"}}]);
//# sourceMappingURL=344.09f5c356.js.map