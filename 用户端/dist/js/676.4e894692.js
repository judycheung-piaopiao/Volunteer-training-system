"use strict";(self["webpackChunktraining"]=self["webpackChunktraining"]||[]).push([[676],{4676:function(e,a,s){s.r(a),s.d(a,{default:function(){return v}});var o=s(3396),l=s(8928);const n=e=>((0,o.dD)("data-v-3c8fb94a"),e=e(),(0,o.Cn)(),e),u={class:"div1"},t=n((()=>(0,o._)("br",null,null,-1))),d=n((()=>(0,o._)("br",null,null,-1))),r={class:"buttonlogin"};function p(e,a,s,n,p,i){const c=(0,o.up)("van-field"),m=(0,o.up)("van-radio-group"),w=(0,o.up)("van-cell-group"),f=(0,o.up)("van-form"),h=(0,o.up)("van-popup");return(0,o.wg)(),(0,o.iD)("div",u,[t,d,(0,o._)("div",r,[(0,o.Wm)(f,{onSubmit:a[4]||(a[4]=e=>n.subPass())},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{inset:""},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{modelValue:n.login.username,"onUpdate:modelValue":a[0]||(a[0]=e=>n.login.username=e),label:"邮箱",placeholder:"请输入邮箱"},null,8,["modelValue"]),(0,o.Wm)(c,{modelValue:n.login.password,"onUpdate:modelValue":a[1]||(a[1]=e=>n.login.password=e),type:"password",label:"密码",placeholder:"请输入密码"},null,8,["modelValue"]),(0,o.Wm)(m,{modelValue:n.login.userlevel,"onUpdate:modelValue":a[2]||(a[2]=e=>n.login.userlevel=e),direction:"horizontal",class:"select"},null,8,["modelValue"])])),_:1}),(0,o._)("div",{onClick:a[3]||(a[3]=e=>n.subPass()),class:"commonButton"},"登录")])),_:1})]),(0,o.Wm)(h,{show:n.show,"onUpdate:show":a[8]||(a[8]=e=>n.show=e),round:"",position:"bottom",style:{height:"30%"}},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{class:"newInfo"},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{inset:""},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{modelValue:n.newInfo.password,"onUpdate:modelValue":a[5]||(a[5]=e=>n.newInfo.password=e),type:"password",label:"密码",placeholder:"请输入密码"},null,8,["modelValue"]),(0,o.Wm)(c,{modelValue:n.newInfo.passwordAgain,"onUpdate:modelValue":a[6]||(a[6]=e=>n.newInfo.passwordAgain=e),type:"password",label:"确认密码",placeholder:"请再次输入密码"},null,8,["modelValue"])])),_:1}),(0,o._)("img",{src:l,class:"newButton",onClick:a[7]||(a[7]=e=>n.subNew())})])),_:1})])),_:1},8,["show"])])}s(8146);var i=s(8135),c=s(4870),m=s(678);const w=s(6265);var f={setup(){const e=(0,m.tv)(),a=(0,c.iH)(!1),s=(0,c.qj)({username:"",password:"",userlevel:"1"}),o=(0,c.qj)({password:"",passwordAgain:""}),l=(0,c.iH)(!1);function n(){if(o.password!=o.passwordAgain)return(0,i.Z)("密码输入不一致！请重新输入"),o.password="",void(o.passwordAgain="");w({method:"get",url:"user/changepassword",params:{password:o.password}}).then((function(a){1==a.data.statuscode?((0,i.Z)("提交成功"),1==s.userlevel&&e.push({path:"/home",query:{number:s.username}})):0==a.data.statuscode&&(0,i.Z)("提交失败")})).catch((function(e){console.log("catch"+e),(0,i.Z)("提交失败，请检查网络")}))}function u(){""!=s.username&&""!=s.password?(w({method:"get",url:"user/login",params:s}).then((function(e){3==e.data.statuscode?(a.value=!0,(0,i.Z)("登录成功")):0==e.data.statuscode?(a.value=!1,(0,i.Z)("输入错误")):2==e.data.statuscode?(a.value=!1,(0,i.Z)("未找到用户")):1==e.data.statuscode&&(a.value=!1,s.password="",(0,i.Z)("密码错误"))})).catch((function(e){console.log("catch"+e),(0,i.Z)("登陆失败，请检查网络")})),setTimeout((()=>{1==a.value&&1==s.userlevel&&e.push({path:"/home",query:{email:s.username,pwd:s.password,username:s.username}})}),100)):(0,i.Z)("请输入信息！")}return{login:s,subPass:u,flag:a,show:l,newInfo:o,subNew:n}}},h=s(89);const g=(0,h.Z)(f,[["render",p],["__scopeId","data-v-3c8fb94a"]]);var v=g},8928:function(e,a,s){e.exports=s.p+"img/submitButton.1ff863b0.png"}}]);
//# sourceMappingURL=676.4e894692.js.map