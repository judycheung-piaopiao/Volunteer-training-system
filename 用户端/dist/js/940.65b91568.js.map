{"version":3,"file":"js/940.65b91568.js","mappings":"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","sources":["webpack://training/./src/components/Batches.vue","webpack://training/./src/components/Batches.vue?b137"],"sourcesContent":["<template>\r\n  <div>\r\n    <van-nav-bar\r\n      title=\"课程类型\"\r\n      left-text=\"返回\"\r\n      left-arrow\r\n      @click-left=\"back\"\r\n    />\r\n    <!-- <div class=\"block\">\r\n      <span class=\"blocktext-center\">\r\n        请选择您要选课的批次\r\n      </span>\r\n    </div> -->\r\n    <!-- 课程列表 -->\r\n    <div>\r\n      <van-list\r\n        v-model:loading=\"loading\"\r\n        :finished=\"finished\"\r\n        finished-text=\"没有更多了\"\r\n        error-text=\"加载失败\"\r\n        @load=\"onLoad\"\r\n      >\r\n        <div v-for=\"item in batches.list\" :key=\"item\" class=\"block\">\r\n          <van-card class=\"vancard\">\r\n            <template #title>\r\n              <span class=\"courseText\">{{item.name}}</span><br>\r\n              <span class=\"courseText\">选课时间：{{item.starttime}}至{{item.endtime}}</span><br>\r\n              <!-- <span class=\"courseText\">批次名称：{{item.name}}</span><br> -->\r\n              <!-- <span class=\"courseText\" v-show=\"item.describe!=''\">批次描述：{{item.describe}}</span><br> -->\r\n            </template>\r\n            <template #footer>\r\n              <div class=\"keButton\">\r\n                <div class=\"commonButton\" @click=\"tocourse(item.no,item.starttime,item.endtime)\">查看</div>\r\n              </div>\r\n              <!-- <img src=\"../../static/enterButton.png\" class=\"keButton\" @click=\"tocourse(item.no)\"> -->\r\n            </template>\r\n          </van-card>\r\n        </div>\r\n      </van-list>\r\n    </div>\r\n    \r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { ref,reactive,onMounted,onBeforeMount } from 'vue';\r\n  import { useRouter } from \"vue-router\";\r\n  import { useRoute } from \"vue-router\";\r\n  import { Toast } from 'vant';\r\n  const axios = require('axios');\r\n\r\n  export default {\r\n    name: 'batches',\r\n    setup() {\r\n      const loading = ref(false);\r\n      const finished = ref(false);\r\n      const router = useRouter();\r\n      const route = useRoute();\r\n      const number= route.query.number;\r\n      const email= route.query.email;\r\n      const pwd = route.query.pwd;//接收密码\r\n      const username = route.query.username;//接收用户名\r\n      const batches = reactive({list:[]});\r\n\r\n      onBeforeMount(()=>{\r\n        //确认密码及用户名正确\r\n        axios({\r\n          method:'get',\r\n          url:'user/login',\r\n          params:{\r\n            username:username,\r\n            password:pwd,\r\n            userlevel:\"1\",\r\n          }\r\n        })\r\n        .then(function (response) {\r\n          if (response.data.statuscode==3) {\r\n            //密码正确\r\n          }else{\r\n            router.push('/force');//密码错误\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n            console.log(\"catch\"+error);\r\n            Toast('登陆失败，请检查网络');\r\n        });\r\n      })\r\n\r\n\r\n      //获取批次列表\r\n      function onLoad(){\r\n          axios({\r\n            method:'get',\r\n            url:'student/showbatch',\r\n            params:{\r\n              number:number,\r\n            }\r\n          })\r\n          .then(function (response) {\r\n            for (let i = 0; i < response.data.length; i++) {\r\n              batches.list.push(response.data[i]);\r\n              //去除“-”及后面的内容\r\n              let batchName = batches.list[i].name;\r\n              for (let j = 0; j < batchName.length; j++) {\r\n                const ch = batchName[j];\r\n                if (ch=='-') {\r\n                  batches.list[i].name=batches.list[i].name.slice(0,j);\r\n                }\r\n              }\r\n            }\r\n        \r\n            loading.value = false;\r\n            finished.value = true;\r\n          })\r\n          .catch(function (error) {\r\n              console.log(\"catch\"+error);\r\n              Toast('获取批次信息失败，请检查网络');\r\n          });\r\n      }\r\n\r\n      function tocourse(batchid,start,end) {\r\n        router.push({path:'/courses',query:{number:number,batchId:batchid,email:email,pwd:pwd,username:username,start:start,end:end}});\r\n      }\r\n\r\n      const back = () => history.back();\r\n\r\n      return {\r\n        loading,\r\n        finished,\r\n        back,\r\n        batches,\r\n        number,\r\n        tocourse,\r\n        onLoad,\r\n        onMounted,\r\n      };\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .block{\r\n    height: 100%;\r\n    margin: 2%;\r\n    background-color: white;\r\n    border-radius: 10px;\r\n  }\r\n  .vancard{\r\n    margin:10px;\r\n    background-color: white;\r\n  }\r\n  .courseText{\r\n    font-size: 14px;\r\n  }\r\n  .keButton{\r\n    height: auto;\r\n    width: auto;\r\n    margin-left: 85%;\r\n    transform: translate(-85%);\r\n  }\r\n  .blocktext{\r\n    margin-left: 15px;\r\n    font-size: 14px;\r\n    text-align: center;\r\n  }\r\n  .blocktext-center{\r\n    position: relative;\r\n    margin-left: 30%;\r\n    font-size: 14px;\r\n    /* text-align: center; */\r\n  }\r\n</style>\r\n","import { render } from \"./Batches.vue?vue&type=template&id=1ef6bb4b&scoped=true\"\nimport script from \"./Batches.vue?vue&type=script&lang=js\"\nexport * from \"./Batches.vue?vue&type=script&lang=js\"\n\nimport \"./Batches.vue?vue&type=style&index=0&id=1ef6bb4b&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\DESKTOP\\\\HTML\\\\亚运会杭电志愿者培训\\\\training\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1ef6bb4b\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_createVNode","_component_van_nav_bar","title","onClickLeft","$setup","_component_van_list","loading","$event","finished","onLoad","_Fragment","_renderList","list","item","key","_component_van_card","_toDisplayString","name","starttime","endtime","_hoisted_4","footer","onClick","no","_hoisted_6","axios","require","setup","ref","router","useRouter","route","useRoute","number","query","email","pwd","username","batches","reactive","method","url","params","then","response","i","data","length","push","batchName","j","ch","slice","value","catch","error","console","log","tocourse","batchid","start","end","path","batchId","onBeforeMount","password","userlevel","statuscode","back","history","onMounted","__exports__","render"],"sourceRoot":""}