{"version":3,"file":"js/770.aeb28f7a.js","mappings":"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","sources":["webpack://training/./src/components/Selectclass.vue","webpack://training/./src/components/Selectclass.vue?5686"],"sourcesContent":["<template>\r\n  <div>\r\n    <van-nav-bar\r\n      title=\"班级列表\"\r\n      left-text=\"返回\"\r\n      left-arrow\r\n      @click-left=\"back\"\r\n    />\r\n    <!-- <van-button @click=\"refresh\">刷新</van-button> -->\r\n    <div class=\"block-center\" v-show=\"isSelected\">\r\n        <span>当前课程已选</span>\r\n    </div>\r\n    <div class=\"block-center\" v-show=\"!isSelected\">\r\n        <span>当前课程未选</span>\r\n    </div>\r\n    <div class=\"block-center\" v-show=\"!flagin\">\r\n        <span style=\"color:red;font-weight:bold;\">当前不在选课时间内</span>\r\n    </div>\r\n    <!-- 课程列表 -->\r\n    <div v-show=\"flagin\">\r\n      <van-list\r\n        v-model:loading=\"loading\"\r\n        :finished=\"finished\"\r\n        finished-text=\"没有更多了\"\r\n        error-text=\"加载失败\"\r\n        @load=\"onLoad\"\r\n      >\r\n        <div v-for=\"item in classes.list\" :key=\"item\" class=\"block\">\r\n          <van-card class=\"vancard\">\r\n            <template #title>\r\n              <div class=\"courseText-top\">班级名称：{{item.name}}</div><br>\r\n              <div class=\"courseText\">上课时间：{{item.time}}</div><br>\r\n              <div class=\"courseText\">上课地点：{{item.location}}</div><br>\r\n              <div class=\"courseText\">授课教师：{{item.teacherName}}</div><br>\r\n            </template>\r\n            <template #tags >\r\n            </template>\r\n            <template #footer>\r\n              <div class=\"tagtag2\">\r\n                <van-tag  plain type=\"success\" v-show=\"item.selected\">已选</van-tag>\r\n              </div>\r\n              <div class=\"tagtag\">\r\n              <van-tag plain type=\"primary\" >已报/上限: {{item.nowpeople}}/{{item.maxPeople}}</van-tag>\r\n              </div>\r\n              <div>\r\n                <div @click=\"xuankeconfirm(item.no)\" v-show=\"judgefull(item.nowpeople,item.maxPeople)\" class=\"commonButton\">选课</div>\r\n                <div @click=\"tuikeconfirm(item.no)\" class=\"deleteButton\">退课</div>\r\n              </div>\r\n              <!-- <img src=\"../../static/xuanke.png\" class=\"keButton\" @click=\"xuanke(item.no)\" v-show=\"judgefull(item.nowpeople,item.maxPeople)\">\r\n              <img src=\"../../static/tuike.png\" class=\"keButton\" @click=\"tuike(item.no)\" > -->\r\n            </template>\r\n          </van-card>\r\n        </div>\r\n      </van-list>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { ref,reactive,onBeforeMount, onMounted} from 'vue';\r\n  import { useRouter } from \"vue-router\";\r\n  import { useRoute } from \"vue-router\";\r\n  import { Toast ,Dialog} from 'vant';\r\n  const axios = require('axios');\r\n\r\n  export default {\r\n    name: 'Select',\r\n    setup() {\r\n      const loading = ref(false);\r\n      const finished = ref(false);\r\n      const router = useRouter();\r\n      const route = useRoute();\r\n      const number= route.query.number;\r\n      const courseid= route.query.courseid;\r\n      const email= route.query.email;\r\n      const isSelected = ref(0);\r\n      const classes = reactive({list:[]});//存储当前课程下的所有班级\r\n      const selected = reactive({list:[]});//存储用户已选的班级id\r\n      const pwd = route.query.pwd;//接收密码\r\n      const username = route.query.username;//接收用户名\r\n      const startTime = route.query.start;//二十四小时制，个位数前面加零，四位年份-月-日-时-分\r\n      const endTime = route.query.end;\r\n      const flagin = ref(0);//初值为不在选课时间内\r\n      \r\n      onBeforeMount(()=>{\r\n        //确认密码及用户名正确\r\n        axios({\r\n          method:'get',\r\n          url:'user/login',\r\n          params:{\r\n            username:username,\r\n            password:pwd,\r\n            userlevel:\"1\",\r\n          }\r\n        })\r\n        .then(function (response) {\r\n          if (response.data.statuscode==3) {\r\n            //密码正确\r\n          }else{\r\n            router.push('/force');//密码错误\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n            console.log(\"catch\"+error);\r\n            Toast('登陆失败，请检查网络');\r\n        });\r\n      })\r\n      //判断是否在选课时间内\r\n      function judgeTime() {\r\n        const mydate=new Date();\r\n        const year = String(mydate.getFullYear());\r\n        var month = String(mydate.getMonth()+1);\r\n        var day =String(mydate.getDate());\r\n        var hour =String(mydate.getHours());\r\n        var minute = String(mydate.getMinutes());\r\n        if (month.length==1) {\r\n          month=\"0\"+month;\r\n        }\r\n        if (day.length==1) {\r\n          day=\"0\"+day;\r\n        }\r\n        if (hour.length==1) {\r\n          hour=\"0\"+hour;\r\n        }\r\n        if (minute.length==1) {\r\n          minute=\"0\"+minute;\r\n        }\r\n        const startYear=startTime.slice(0,4);\r\n        const startMonth=startTime.slice(5,7);\r\n        const startDay=startTime.slice(8,10);\r\n        const startHour=startTime.slice(11,13);\r\n        const startMinute=startTime.slice(14,16);\r\n        const endYear=endTime.slice(0,4);\r\n        const endMonth=endTime.slice(5,7);\r\n        const endDay=endTime.slice(8,10);\r\n        const endHour=endTime.slice(11,13);\r\n        const endMinute=endTime.slice(14,16);\r\n        //console.log(year+\"-\"+month+\"-\"+day+\"-\"+hour+\"-\"+minute);\r\n        //console.log(startYear+\"-\"+startMonth+\"-\"+startDay+\"-\"+startHour+\"-\"+startMinute);\r\n        //console.log(endYear+\"-\"+endMonth+\"-\"+endDay+\"-\"+endHour+\"-\"+endMinute);\r\n        let flag1=0;//标识是否在开始时间之后\r\n        let flag2=0;//标识是否在结束时间之前\r\n        //判断是否在开始时间之后\r\n        if(year>startYear){\r\n          flag1=1;//在范围内\r\n        }else if(year==startYear){\r\n          if (month>startMonth) {\r\n            flag1=1;\r\n          }else if(month==startMonth){\r\n            if (day>startDay) {\r\n              flag1=1;\r\n            }else if(day==startDay){\r\n              if (hour>startHour) {\r\n                flag1=1;\r\n              }else if(hour==startHour){\r\n                if (minute>=startMinute) {\r\n                  flag1=1;\r\n                }else{\r\n                  flag1=0;\r\n                }\r\n              }else{\r\n                flag1=0;\r\n              }\r\n            }else{\r\n              flag1=0;\r\n            }\r\n          }else{\r\n            flag1=0;\r\n          }\r\n        }else{\r\n          flag1=0;\r\n        }\r\n        //判断是否在结束时间之前\r\n        if(year<endYear){\r\n          flag2=1;//在范围内\r\n        }else if(year==endYear){\r\n          if (month<endMonth) {\r\n            flag2=1;\r\n          }else if(month==endMonth){\r\n            if (day<endDay) {\r\n              flag2=1;\r\n            }else if(day==endDay){\r\n              if (hour<endHour) {\r\n                flag2=1;\r\n              }else if(hour==endHour){\r\n                if (minute<=endMinute) {\r\n                  flag2=1;\r\n                }else{\r\n                  flag2=0;\r\n                }\r\n              }else{\r\n                flag2=0;\r\n              }\r\n            }else{\r\n              flag2=0;\r\n            }\r\n          }else{\r\n            flag2=0;\r\n          }\r\n        }else{\r\n          flag2=0;\r\n        }\r\n        if (flag1&&flag2) {\r\n          flagin.value=1;\r\n        }else{\r\n          flagin.value=0;\r\n        }\r\n        // console.log(flagin.value);\r\n      }\r\n\r\n\r\n      onMounted(()=>{\r\n        judgeTime();\r\n      })\r\n      \r\n      function onLoad(){\r\n        isSelected.value=0;\r\n        //获取已选班级列表\r\n        axios({\r\n          method:'get',\r\n          url:'student/checkselectedclass',\r\n          params:{\r\n            number:number,\r\n          }\r\n        })\r\n        .then(function (res) {\r\n           selected.list=res.data\r\n        })\r\n        .catch(function (error) {\r\n            console.log(\"catch\"+error);\r\n            Toast('获取班级信息失败，请检查网络');\r\n        });\r\n        //console.log(selected);\r\n        //获取当前课程下的班级列表\r\n\r\n        setTimeout(() =>{//延时,不延时会导致读不到数组长度\r\n            axios({\r\n            method:'get',\r\n            url:'admin/getclass',\r\n            params:{\r\n              course:courseid,\r\n            }\r\n          })\r\n          .then(function (response) {\r\n            for (let i = 0; i < response.data.length; i++) \r\n            {\r\n              //classes.list.push(response.data[i]);\r\n              classes.list=response.data\r\n              classes.list[i].selected=0;//默认未选\r\n              //console.log(selected);\r\n              //console.log(\"selected.list.length=\"+selected.list.length);\r\n              //console.log(\"length=\"+length);\r\n              //遍历判断是否已选此班级\r\n              for (let k = 0; k < selected.list.length; k++) \r\n              {\r\n                  if (selected.list[k].no==classes.list[i].no) \r\n                  {\r\n                    //console.log(k);\r\n                    classes.list[i].selected=1;//已选此班级\r\n                    isSelected.value++;\r\n                  }\r\n              }\r\n              //将班级名称中的时间提取出来分开显示\r\n              // for (let j = 0; j < classes.list[i].name.length; j++) {\r\n              //   const ch = classes.list[i].name[j];\r\n              //   if (ch=='/') {\r\n              //     classes.list[i].time=classes.list[i].name.slice(j+1);\r\n              //     classes.list[i].name=classes.list[i].name.slice(0,j);\r\n              //   }\r\n              // }\r\n            }\r\n            loading.value = false;\r\n            finished.value = true;\r\n            //classes.list=response.data\r\n          })\r\n          .catch(function (error) {\r\n              console.log(\"catch\"+error);\r\n              Toast('获取班级信息失败，请检查网络');\r\n          });\r\n        },100);\r\n        // console.log(isSelected.value);\r\n      }\r\n\r\n      function xuankeconfirm(classid){\r\n        //退课确认框\r\n        Dialog.confirm({\r\n          message:\r\n            '确认选课？',\r\n        })\r\n          .then(() => {\r\n            xuanke(classid);\r\n          })\r\n          .catch(() => {\r\n            // on cancel\r\n          });\r\n      }\r\n\r\n      function tuikeconfirm(classid){\r\n        //退课确认框\r\n        Dialog.confirm({\r\n          message:\r\n            '确认退课？',\r\n        })\r\n          .then(() => {\r\n            tuike(classid);\r\n          })\r\n          .catch(() => {\r\n            // on cancel\r\n          });\r\n      }\r\n\r\n      function xuanke(classid) {\r\n        let info={\r\n          name:'',\r\n          number:number,\r\n          classes:classid,\r\n          course:courseid,\r\n        };\r\n        //用邮箱获取学生姓名\r\n        axios({\r\n            method:'get',\r\n            url:'student/getstudent',\r\n            params:{\r\n              email:email,\r\n            }\r\n        })\r\n        .then(function (response) {\r\n          //console.log(response);\r\n          info.name=response.data[0].name;\r\n        })\r\n        .catch(function (error) {\r\n            console.log(\"catch\"+error);\r\n            Toast('用户信息获取失败，请检查网络');\r\n        });\r\n        setTimeout(() =>{//延时\r\n          //console.log(info);\r\n          axios({\r\n              method:'get',\r\n              url:'student/chooseclass',\r\n              params:info,\r\n          })\r\n          .then(function (response) {\r\n            if (response.data.statuscode>=1) {\r\n              Toast('选课成功');\r\n              for (let i = 0; i <classes.list.length; i++) {\r\n                if (classes.list[i].no==classid) {\r\n                  classes.list[i].selected=1;\r\n                }\r\n              }\r\n              router.go(0);\r\n            }else{\r\n              Toast('选课失败');\r\n            }\r\n          })\r\n          .catch(function (error) {\r\n              console.log(\"catch\"+error);\r\n              Toast('选课失败，请检查网络');\r\n          });\r\n        },100);\r\n      }\r\n\r\n      function tuike(classid) {\r\n        let info={\r\n          number:number,\r\n          classes:classid,\r\n        }\r\n        axios({\r\n            method:'get',\r\n            url:'student/exitclass',\r\n            params:info,\r\n        })\r\n        .then(function (response) {\r\n          if (response.data.statuscode>=1) {\r\n            Toast('退课成功');\r\n            for (let i = 0; i <classes.list.length; i++) {\r\n              if (classes.list[i].no==classid) {\r\n                classes.list[i].selected=0;\r\n              }\r\n            }\r\n            router.go(0);\r\n          }else{\r\n            Toast('退课失败');\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n            console.log(\"catch\"+error);\r\n            Toast('退课失败，请检查网络');\r\n        });\r\n      }\r\n\r\n      function judgefull(Nowpeople,maxpeople){\r\n        if (Nowpeople>=maxpeople) {\r\n          return false;\r\n        }else{\r\n          return true;\r\n        }\r\n      }\r\n      const back = () => history.back();\r\n      const refresh = () =>router.go(0);\r\n      return {\r\n        loading,\r\n        finished,\r\n        back,\r\n        refresh,\r\n        classes,\r\n        number,\r\n        xuanke,\r\n        judgefull,\r\n        tuike,\r\n        onLoad,\r\n        courseid,\r\n        selected,\r\n        tuikeconfirm,\r\n        xuankeconfirm,\r\n        isSelected,\r\n        flagin,\r\n        judgeTime,\r\n      };\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  /*适应PC端 宽度大于900*/\r\n  @media screen and (min-width: 900px) {\r\n    .tagtag{\r\n      position: relative;\r\n      margin-right:80vw;\r\n      margin-bottom:-34px;\r\n      /* margin-bottom:-2%;\r\n      margin-right:20vh; */\r\n      /* margin-left: 20px; */\r\n    }\r\n    .tagtag2{\r\n      position: absolute;\r\n      /* margin-bottom:-20%; */\r\n      /* margin-right:85%; */\r\n    }\r\n    .commonButton{\r\n      position: relative;\r\n      width:40px;\r\n      height:15px;\r\n      margin-left: 80vw;\r\n    }\r\n    .deleteButton{\r\n      position: relative;\r\n      width:40px;\r\n      height:15px;\r\n      margin-left: calc(80vw + 73px);\r\n      margin-top: -35px;\r\n    }\r\n  }\r\n  /*适应pad端 宽度大于470,小于899px*/\r\n  @media screen and (min-width: 469px) and (max-width:899px) {\r\n    .tagtag{\r\n      position: relative;\r\n      margin-right:55vw;\r\n      margin-bottom:-34px;\r\n      /* margin-bottom:-5%;\r\n      margin-right:20vw; */\r\n      /* margin-left: 20px; */\r\n    }\r\n    .tagtag2{\r\n      position: absolute;\r\n      margin-bottom:-10%;\r\n      /* margin-right:85%; */\r\n    }\r\n    .commonButton{\r\n      position: relative;\r\n      width:40px;\r\n      height:15px;\r\n      margin-left: 60vw;\r\n    }\r\n    .deleteButton{\r\n      position: relative;\r\n      width:40px;\r\n      height:15px;\r\n      margin-left: calc(60vw + 73px);\r\n      margin-top: -35px;\r\n    }\r\n  }\r\n  /*适应移动端*/\r\n  @media screen and (max-width: 469px){\r\n    .tagtag{\r\n      position: relative;\r\n      margin-right:43vw;\r\n      margin-bottom:-34px;\r\n      /* margin-bottom:-9.5%;\r\n      margin-right:43%; */\r\n      /* margin-left: 20px; */\r\n    }\r\n    .tagtag2{\r\n      position: absolute;\r\n      margin-bottom:-10%;\r\n      /* margin-right:85%; */\r\n    }\r\n    .commonButton{\r\n      position: relative;\r\n      width:40px;\r\n      height:15px;\r\n      margin-left: 50vw;\r\n    }\r\n    .deleteButton{\r\n      position: relative;\r\n      width:40px;\r\n      height:15px;\r\n      margin-left: calc(50vw + 73px);\r\n      margin-top: -35px;\r\n    }\r\n  }\r\n  .block{\r\n    height: 100%;\r\n    margin: 2%;\r\n    background-color: white;\r\n    border-radius: 10px;\r\n  }\r\n  .vancard{\r\n    margin:10px;\r\n    background-color: white;\r\n  }\r\n  .courseText{\r\n    font-size: 14px;\r\n    margin-top: -10px;\r\n  }\r\n  .courseText-top{\r\n    font-size: 14px;\r\n    margin-top: 15px;\r\n  }\r\n  .keButton{\r\n    position: relative;\r\n    width:7vh;\r\n    height:auto;\r\n    /* height: 30px;\r\n    width: auto; */\r\n    /* background-color: red; */\r\n    margin-left: 10px;\r\n    /* margin-bottom: 0px; */\r\n  }\r\n  .block-center{\r\n    position: relative;\r\n    height: 100%;\r\n    margin: 2%;\r\n    background-color: white;\r\n    border-radius: 10px;\r\n    text-align: center;\r\n    word-break: keep-all;\r\n  }\r\n  \r\n</style>","import { render } from \"./Selectclass.vue?vue&type=template&id=5b67b323&scoped=true\"\nimport script from \"./Selectclass.vue?vue&type=script&lang=js\"\nexport * from \"./Selectclass.vue?vue&type=script&lang=js\"\n\nimport \"./Selectclass.vue?vue&type=style&index=0&id=5b67b323&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\DESKTOP\\\\HTML\\\\亚运会杭电志愿者培训\\\\training\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5b67b323\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_2","_hoisted_5","style","_hoisted_8","_createElementBlock","_createVNode","_component_van_nav_bar","title","onClickLeft","$setup","_hoisted_3","_hoisted_6","_hoisted_9","_component_van_list","loading","$event","finished","onLoad","_Fragment","_renderList","list","item","key","_component_van_card","_toDisplayString","name","time","_hoisted_13","location","_hoisted_15","teacherName","_hoisted_17","tags","footer","_component_van_tag","plain","type","selected","nowpeople","maxPeople","onClick","no","_hoisted_21","_hoisted_22","axios","require","setup","ref","router","useRouter","route","useRoute","number","query","courseid","email","isSelected","classes","reactive","pwd","username","startTime","start","endTime","end","flagin","judgeTime","mydate","Date","year","String","getFullYear","month","getMonth","day","getDate","hour","getHours","minute","getMinutes","length","startYear","slice","startMonth","startDay","startHour","startMinute","endYear","endMonth","endDay","endHour","endMinute","flag1","flag2","value","method","url","params","then","res","data","catch","error","console","log","setTimeout","course","response","i","k","xuankeconfirm","classid","message","xuanke","tuikeconfirm","tuike","info","statuscode","go","judgefull","Nowpeople","maxpeople","onBeforeMount","password","userlevel","push","onMounted","back","history","refresh","__exports__","render"],"sourceRoot":""}